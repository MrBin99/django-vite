[tool.pytest.ini_options]
DJANGO_SETTINGS_MODULE = "tests.settings"
django_find_project = false
pythonpath = "."
addopts = '''
  --cov=django_vite
  --cov-report html
  --cov-report term-missing
  --cov-branch
'''
filterwarnings = "ignore::DeprecationWarning:django_vite.*"

[tool.black]
line-length = 88

[tool.ruff.lint]
select = [
  "E",   # pycodestyle
  "F",   # pyflakes
  "C",   # pyupgrade
  "B",   # bugbear,
  "PT",  # pytest,
  "SIM", # simplify,
  "DJ",  # django,
  "I",   # isort
]

ignore = [
  "E501",   # line too long (taken care of by formatter)
  "PT012",  # multiple statements in `pytest.raises` (TODO: fix?)
  "SIM105", # `contextlib.suppress` is slower than try-except, so do not suggest it
]

# do not autofix the following violations due to bad DX:
unfixable = [
  "F401", # Module imported but unused
  "F841", # Unused variables
]
